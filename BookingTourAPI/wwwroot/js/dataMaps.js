const cityCodeMap = {
    // --- VIỆT NAM (Bổ sung) ---
    "phú quốc": "PQC",
    "phu quoc": "PQC",
    "pqc": "PQC",
    "ho chi minh city": "SGN",
    "hồ chí minh": "SGN",
    "sgn": "SGN",
    "hanoi": "HAN",
    "hà nội": "HAN",
    "ha noi": "HAN",
    "hn": "HAN",
    "han": "HAN",
    "da nang": "DAD",
    "đà nẵng": "DAD",
    "dad": "DAD",
    "hai phong": "HPH",
    "hải phòng": "HPH",
    "hph": "HPH",
    "can tho": "VCA",
    "cần thơ": "VCA",
    "vca": "VCA",
    "hue": "HUI",
    "huế": "HUI",
    "hui": "HUI",
    "nha trang": "CXR", // Sân bay Cam Ranh
    "cam ranh": "CXR",
    "cxr": "CXR",
    "da lat": "DLI",
    "đà lạt": "DLI",
    "dli": "DLI",
    "quy nhon": "UIH",
    "quy nhơn": "UIH",
    "uih": "UIH",
    "vinh": "VII",
    "vii": "VII",
    "buon ma thuot": "BMV",
    "buôn ma thuột": "BMV",
    "bmv": "BMV",
    "pleiku": "PXU",
    "pxu": "PXU",
    "dong hoi": "VDH",
    "đồng hới": "VDH",
    "vdh": "VDH",

    // --- QUỐC TẾ (20 Thành phố) ---
    "paris": "CDG", // Charles de Gaulle
    "cdg": "CDG",
    "london": "LHR", // Heathrow
    "lhr": "LHR",
    "new york": "JFK", // John F. Kennedy
    "nyc": "JFK", // Alias
    "jfk": "JFK",
    "tokyo": "NRT", // Narita (hoặc HND - Haneda)
    "nrt": "NRT",
    "hnd": "HND",
    "seoul": "ICN", // Incheon
    "icn": "ICN",
    "beijing": "PEK",
    "bắc kinh": "PEK",
    "pek": "PEK",
"shanghai": "PVG",
    "thượng hải": "PVG",
    "pvg": "PVG",
    "singapore": "SIN",
    "sin": "SIN",
    "bangkok": "BKK", // Suvarnabhumi
    "bkk": "BKK",
    "kuala lumpur": "KUL",
    "kl": "KUL",
    "kul": "KUL",
    "taipei": "TPE", // Taoyuan
    "đài bắc": "TPE",
    "tpe": "TPE",
    "sydney": "SYD",
    "syd": "SYD",
    "melbourne": "MEL",
    "mel": "MEL",
    "los angeles": "LAX",
    "la": "LAX",
    "lax": "LAX",
    "san francisco": "SFO",
    "sfo": "SFO",
    "vancouver": "YVR",
    "yvr": "YVR",
    "frankfurt": "FRA",
    "fra": "FRA",
    "amsterdam": "AMS",
    "ams": "AMS",
    "dubai": "DXB",
    "dxb": "DXB",
    "moscow": "SVO", // Sheremetyevo
    "svo": "SVO"
};

const cityCoordinates = {
    // VIỆT NAM (Original + Additions)
    "pqc": { lat: 10.2229, lon: 103.9685 },
    "phú quốc": { lat: 10.2229, lon: 103.9685 },
    "phu quoc": { lat: 10.2229, lon: 103.9685 },
    "hanoi": { lat: 21.0278, lon: 105.8342 },
    "hà nội": { lat: 21.0278, lon: 105.8342 },
    "han": { lat: 21.0278, lon: 105.8342 },
    "ho chi minh city": { lat: 10.8231, lon: 106.6297 },
    "hồ chí minh": { lat: 10.8231, lon: 106.6297 },
    "sgn": { lat: 10.8231, lon: 106.6297 },
    "da nang": { lat: 16.0545, lon: 108.2022 },
    "đà nẵng": { lat: 16.0545, lon: 108.2022 },
    "dad": { lat: 16.0545, lon: 108.2022 },
    "hai phong": { lat: 20.8449, lon: 106.6881 },
    "hải phòng": { lat: 20.8449, lon: 106.6881 },
    "hph": { lat: 20.8449, lon: 106.6881 },
    "can tho": { lat: 10.0452, lon: 105.7469 },
    "cần thơ": { lat: 10.0452, lon: 105.7469 },
    "vca": { lat: 10.0452, lon: 105.7469 },
    "hue": { lat: 16.4637, lon: 107.5909 },
    "huế": { lat: 16.4637, lon: 107.5909 },
    "hui": { lat: 16.4637, lon: 107.5909 },
    "nha trang": { lat: 12.2388, lon: 109.1967 },
    "nha": { lat: 12.2388, lon: 109.1967 },
    "da lat": { lat: 11.9404, lon: 108.4583 },
    "đà lạt": { lat: 11.9404, lon: 108.4583 },
    "dli": { lat: 11.9404, lon: 108.4583 },
    "hoi an": { lat: 15.8801, lon: 108.3380 },
    "hội an": { lat: 15.8801, lon: 108.3380 },
    "vung tau": { lat: 10.3460, lon: 107.0843 },
    "vũng tàu": { lat: 10.3460, lon: 107.0843 },
    "quy nhon": { lat: 13.7800, lon: 109.2224 },
    "quy nhơn": { lat: 13.7800, lon: 109.2224 },
    "uih": { lat: 13.7800, lon: 109.2224 },
    "vinh": { lat: 18.6798, lon: 105.6919 },
    "ha long": { lat: 20.9504, lon: 107.0747 },
    "hạ long": { lat: 20.9504, lon: 107.0747 },

    // QUỐC TẾ (Original + Additions)
    "paris": { lat: 48.8566, lon: 2.3522 },
    "cdg": { lat: 48.8566, lon: 2.3522 },
    "new york": { lat: 40.7128, lon: -74.0060 },
    "nyc": { lat: 40.7128, lon: -74.0060 },
    "jfk": { lat: 40.7128, lon: -74.0060 },
    "london": { lat: 51.5074, lon: -0.1278 },
    "lhr": { lat: 51.5074, lon: -0.1278 },
    "tokyo": { lat: 35.6895, lon: 139.6917 },
    "nrt": { lat: 35.6895, lon: 139.6917 },
    "hnd": { lat: 35.6895, lon: 139.6917 },
    "seoul": { lat: 37.5665, lon: 126.9780 },
    "icn": { lat: 37.5665, lon: 126.9780 },
    "beijing": { lat: 39.9042, lon: 116.4074 },
    "pek": { lat: 39.9042, lon: 116.4074 },
    "shanghai": { lat: 31.2304, lon: 121.4737 },
    "pvg": { lat: 31.2304, lon: 121.4737 },
    "singapore": { lat: 1.3521, lon: 103.8198 },
    "sin": { lat: 1.3521, lon: 103.8198 },
    "bangkok": { lat: 13.7563, lon: 100.5018 },
    "bkk": { lat: 13.7563, lon: 100.5018 },
    "kuala lumpur": { lat: 3.1390, lon: 101.6869 },
    "kul": { lat: 3.1390, lon: 101.6869 },
    "sydney": { lat: -33.8688, lon: 151.2093 },
    "syd": { lat: -33.8688, lon: 151.2093 },
    "melbourne": { lat: -37.8136, lon: 144.9631 },
    "mel": { lat: -37.8136, lon: 144.9631 },
    "los angeles": { lat: 34.0522, lon: -118.2437 },
    "lax": { lat: 34.0522, lon: -118.2437 },
    "chicago": { lat: 41.8781, lon: -87.6298 },
    "ord": { lat: 41.8781, lon: -87.6298 },
    "toronto": { lat: 43.6532, lon: -79.3832 },
    "yyz": { lat: 43.6532, lon: -79.3832 },
    "vancouver": { lat: 49.2827, lon: -123.1207 },
    "yvr": { lat: 49.2827, lon: -123.1207 },
    "berlin": { lat: 52.5200, lon: 13.4050 },
    "ber": { lat: 52.5200, lon: 13.4050 },
    "rome": { lat: 41.9028, lon: 12.4964 },
    "fco": { lat: 41.9028, lon: 12.4964 },
    "madrid": { lat: 40.4168, lon: -3.7038 },
    "mad": { lat: 40.4168, lon: -3.7038 },
    "dubai": { lat: 25.2048, lon: 55.2708 },
    "dxb": { lat: 25.2048, lon: 55.2708 },
    "moscow": { lat: 55.7558, lon: 37.6173 },
    "svo": { lat: 55.7558, lon: 37.6173 },
    "cairo": { lat: 30.0444, lon: 31.2357 },
    "cai": { lat: 30.0444, lon: 31.2357 },
    "mumbai": { lat: 19.0760, lon: 72.8777 },
    "bom": { lat: 19.0760, lon: 72.8777 },
    "sao paulo": { lat: -23.5505, lon: -46.6333 },
    "gru": { lat: -23.5505, lon: -46.6333 },
    "mexico city": { lat: 19.4326, lon: -99.1332 },
    "mex": { lat: 19.4326, lon: -99.1332 }
};
